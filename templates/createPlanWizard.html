<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>制药生产计划向导</title>
	<link href="../static/css/base.css" rel="stylesheet">
	<link href="../static/custom/uimaker/easyui.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" crossorigin="anonymous">
    <link href="../static/css/smart_wizard.min.css" rel="stylesheet">
{#	<link href="../static/css/basic_info.css" rel="stylesheet">#}
{#	<link href="../static/custom/uimaker/icon.css" rel="stylesheet" type="text/css">#}
{#	<link href="../static/js/umeditor/themes/default/css/umeditor.css" type="text/css" rel="stylesheet">#}
{#    <link rel="stylesheet" href="../static/kendo/styles/kendo.common.min.css" />#}
{#    <link rel="stylesheet" href="../static/kendo/styles/kendo.default.min.css" />#}
{#    <link rel="stylesheet" href="../static/kendo/styles/kendo.default.mobile.min.css" />#}
    <style>
        .sw-theme-arrows {
            border-radius: 5px;
            border: 1px solid #ddd;
            margin:3px;
        }
        .sw-theme-arrows > .sw-container {
            height: 400px;
        }
        .sw-theme-arrows .step-content {
            padding: 0 10px;
            border: 0px solid #D4D4D4;
            background-color: #FFF;
            text-align: left;
        }
        .sw-theme-arrows .sw-toolbar {
            background:#f9f9f9;
            padding: 10px;
            margin-bottom: 0 !important;
        }
        .sw-theme-arrows > .sw-toolbar-top {
        }
        .sw-theme-arrows > .sw-toolbar-bottom {
        }
        .sw-theme-arrows > ul.step-anchor {
            border: 0;
            border-bottom: 1px solid #ddd;
            padding: 0px;
            background: #f5f5f5;
            border-radius: 0;
            border-top-right-radius: 5px;
            list-style: none;
            overflow: hidden;
        }
        .sw-theme-arrows > ul.step-anchor li+li:before {
            padding: 0;
        }
        .sw-theme-arrows > ul.step-anchor > li {
        }
        .sw-theme-arrows > ul.step-anchor > li > a, .sw-theme-arrows > ul.step-anchor > li > a:hover {
            color: #bbb;
            text-decoration: none;
            padding: 10px 0 10px 45px;
            position: relative;
            display: block;
            border: 0 !important;
            border-radius: 0;
            outline-style: none;
            background: #f5f5f5;
        }
        .sw-theme-arrows > ul.step-anchor > li > a:after {
            content: " ";
            display: block;
            width: 0;
            height: 0;
            border-top: 50px solid transparent;
            border-bottom: 50px solid transparent;
            border-left: 30px solid #f5f5f5;
            position: absolute;
            top: 50%;
            margin-top: -50px;
            left: 100%;
            z-index: 2;
        }
        .sw-theme-arrows > ul.step-anchor > li > a:before {
            content: " ";
            display: block;
            width: 0;
            height: 0;
            border-top: 50px solid transparent;
                   /* Go big on the size, and let overflow hide */
            border-bottom: 50px solid transparent;
            border-left: 30px solid #ddd;
            position: absolute;
            top: 50%;
            margin-top: -50px;
            margin-left: 1px;
            left: 100%;
            z-index: 1;
        }
        .sw-theme-arrows > ul.step-anchor > li:first-child > a {
            padding-left: 15px;
        }
        .sw-theme-arrows > ul.step-anchor > li > a:hover {
            color: #bbb;
            text-decoration: none;
            outline-style: none;
            background: #f5f5f5;
            border-color: #f5f5f5;
        }
        .sw-theme-arrows > ul.step-anchor > li > a:hover:after {
            border-left-color: #f5f5f5;
        }
        .sw-theme-arrows > ul.step-anchor > li > a small {
        }
        .sw-theme-arrows > ul.step-anchor > li.clickable > a:hover {
            color: #4285F4 !important;
            background: #46b8da !important;
        }
        .sw-theme-arrows > ul.step-anchor > li.active > a {
            border-color: #5cb85c !important;
            color: #fff !important;
            background: #5cb85c !important;
        }
        .sw-theme-arrows > ul.step-anchor > li.active > a:after {
            border-left: 30px solid #5cb85c !important;
        }
        .sw-theme-arrows > ul.step-anchor > li.done > a {
            border-color: #b1dfbb !important;
         /*  #5cb85c */
            color: #fff !important;
            background: #b1dfbb !important;
        }
        .sw-theme-arrows > ul.step-anchor > li.done > a:after {
            border-left: 30px solid #b1dfbb;
         /* c3e6cb */;
        }
        .sw-theme-arrows > ul.step-anchor > li.danger > a {
            border-color: #d9534f !important;
            color: #fff !important;
            background: #d9534f !important;
        }
        .sw-theme-arrows > ul.step-anchor > li.danger > a:after {
            border-left: 30px solid #d9534f !important;
        }
        .sw-theme-arrows > ul.step-anchor > li.disabled > a, .sw-theme-arrows > ul.step-anchor > li.disabled > a:hover {
            color: #eee !important;
        }
        /* Responsive CSS */
        @media screen and (max-width: 768px) {
            .sw-theme-arrows > ul.step-anchor {
                border: 0;
                background: #ddd !important;
            }
            .sw-theme-arrows > .nav-tabs > li {
                float: none !important;
                margin-bottom: 0;
            }
            .sw-theme-arrows > ul.step-anchor > li > a, .sw-theme-arrows > ul.step-anchor > li > a:hover {
                padding-left: 15px;
                margin-right: 0;
                margin-bottom: 1px;
            }
            .sw-theme-arrows > ul.step-anchor > li > a:after, .sw-theme-arrows > ul.step-anchor > li > a:before {
                display: none;
            }
        }
        /* Loader Custom Style */
        .sw-theme-arrows::before {
            border: 10px solid #f3f3f3;
            border-top: 10px solid #5cb85c;
        }
    </style>
    <script src="../static/kendo/js/jquery.min.js"></script>
    <script type="text/javascript" src="../static/js/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="../static/js/easyui-lang-zh_CN.js"></script>
	<script type="text/javascript" src="../static/js/jquery.smartWizard.min.js"></script>
	<script type="text/javascript" src="../static/js/bee.js" charset="utf-8"></script>
	<script type="text/javascript">
        $(function () {
            $("#prodDate").datebox("setValue", myformatter(new Date()));
            // Toolbar extra buttons
            var btnCancel = $('<button></button>').text('取消')
                 .addClass('btn btn-danger')
                 .on('click', function(){ $('#wizard').smartWizard("reset"); });
            // Smart Wizard
            $('#wizard').smartWizard({
                    selected: 0,
                    theme: 'arrows',
                    lang: {
                        next: '下一步',
                        previous: '上一步'
                    },
                    transitionEffect:'fade',
                    showStepURLhash: true,
                    transitionSpeed:400,
                    keyNavigation:true,
                    enableAllAnchors:true,
                    toolbarSettings: {
                        //toolbarButtonPosition: 'end',
                        toolbarExtraButtons: [btnCancel]
                    }
            });
            $("#wizard").on("showStep", function(e, anchorObject, stepNumber, stepDirection) {
                if(stepNumber == 1){
                    setTimeout(function() {
                        $("#batchDetails").datagrid('reload')
                    },200);
                }
            });
        });
        function myformatter(date){
            var y = date.getFullYear();
            var m = date.getMonth()+1;
            var d = date.getDate();
            return y+'-'+(m<10?('0'+m):m)+'-'+( d<10?('0'+d):d);
        }

        function myparser(s){
            if (!s) return new Date();
            var ss = (s.split('-'));
            var y = parseInt(ss[0],10);
            var m = parseInt(ss[1],10);
            var d = parseInt(ss[2],10);
            if (!isNaN(y) && !isNaN(m) && !isNaN(d)){
                return new Date(y,m-1,d);
            } else {
                return new Date();
            }
        }
	</script>
</head>
<body>
    <div id="wizard" class="sw-main sw-theme-arrows">
        <ul style="margin:10px;">
            <li><a href="#step-1">Step 1<br /><small>批次号品名录入</small></a></li>
            <li><a href="#step-2">Step 2<br /><small>物料明细</small></a></li>
            <li><a href="#step-3">Step 3<br /><small>计划效验结果</small></a></li>
        </ul>
        <div>
            <div id="step-1">
                <h3 class="border-bottom border-gray pb-2">计划实际信息</h3>
                <div class="content">
                    <form id="orgForm" method="post" class="dialog-form">
                        <table class="kv-table">
                            <tbody>
                                <tr>
                                    <td class="kv-label">生产日期</td>
                                    <td class="kv-content">
                                        <input class="easyui-datebox" id="prodDate" labelPosition="top" data-options="formatter:myformatter,parser:myparser" style="height:29px;">
                                    </td>
                                    <td class="kv-label">批次号</td>
                                    <td class="kv-content">
                                        <input type="text" name="" class="textbox-text validatebox-text textbox-prompt" autocomplete="off" placeholder="">
                                    </td>
                                    <td class="kv-label">品名</td>
                                    <td class="kv-content">
                                        <select name="proName" id="proName" type="text" autocomplete="off" placeholder="" style="height:29px;width:150px;">
                                            <option value="">请选择</option>
                                            {% for id in Product_info %}
                                                <option value="{{ id['ID'] }}">{{ id['text'] }}</option>
                                            {% endfor %}
                                        </select>
                                    </td>
                                </tr>
                            <tr>
                                <td class="kv-label">计划重量</td>
                                    <td class="kv-content">
                                        <input id="planWeight" class="textbox-text validatebox-text textbox-prompt" name="单位类型" type="text">
                                    </td>
                                    <td class="kv-label">单位</td>
                                    <td class="kv-content">
                                        <select name="Unit" id="Unit" type="text" autocomplete="off" placeholder="" style="height:29px;width:150px;">
                                            <option value="">请选择</option>
                                            <option value="{{ Unit }}">{{ Unit }}</option>
                                        </select>
                                    </td>
                            </tr>
                            </tbody>
                        </table>
                    </form>
                </div>
            </div>
            <div id="step-2">
                <h3 class="border-bottom border-gray pb-2">物料BOM</h3>
                <div id="tab" class="easyui-tabs" style="width:100%;height:250px;">
                    <div title="批次任务明细" data-options="closable:false"  style="padding:0px;">
                        <table id="batchDetails" class="easyui-datagrid" style="width:100%;"  data-options="
                             url:'../static/data/datagrid_batch_manager_list2.json',
                             method: 'get',
                             rownumbers:true,
                             singleSelect:false,
                             autoRowHeight:false,
                             pagination:true,
                             striped:true,
                             checkOnSelect:false,
                             selectOnCheck:false,
                             collapsible:true,
                             toolbar: '#tb',
                             pageSize:10 " >
                            <thead>
                                <tr>
                                    <th data-options="field: 'A',align: 'center' ">顺序号</th>
                                    <th data-options="field: 'B',align: 'center' ">任务号</th>
                                    <th data-options="field: 'C',align: 'center' ">投入物料</th>
                                    <th data-options="field: 'D',align: 'center' ">投入物料名称</th>
                                    <th data-options="field: 'E',align: 'center' ">投入量</th>
                                    <th data-options="field: 'F',align: 'center' ">投入比例</th>
                                    <th data-options="field: 'G',align: 'center' ">来料批号</th>
                                    <th data-options="field: 'H',align: 'center' ">来料柜号</th>
                                    <th data-options="field: 'I',align: 'center' ">来料工单号</th>
                                    <th data-options="field: 'J',align: 'center' ">来料类型</th>
                                    <th data-options="field: 'K',align: 'center' ">实际来料柜号</th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                    <div title="批次物料明细" data-options="closable:false" style="overflow:auto;padding:0px;">
                        <table class="easyui-datagrid" style="width:100%;" data-options="
                             url:'../static/data/datagrid_batch_manager_list2.json',
                             method: 'get',
                             rownumbers:true,
                             singleSelect:false,
                             autoRowHeight:false,
                             pagination:true,
                             striped:true,
                             checkOnSelect:false,
                             selectOnCheck:false,
                             collapsible:true,
                             toolbar: '#tb',
                             pageSize:10 " >
                            <thead>
                                <tr>
                                    <th data-options="field: 'A',align: 'center' ">顺序号</th>
                                    <th data-options="field: 'B',align: 'center' ">任务号</th>
                                    <th data-options="field: 'C',align: 'center' ">投入物料</th>
                                    <th data-options="field: 'D',align: 'center' ">投入物料名称</th>
                                    <th data-options="field: 'E',align: 'center' ">投入量</th>
                                    <th data-options="field: 'F',align: 'center' ">投入比例</th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>
            </div>
            <div id="step-3">
                <h3 class="border-bottom border-gray pb-2">计划校验结果</h3>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                    Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute
                    irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat
                    cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </div>
        </div>
    </div>
</body>
</html>