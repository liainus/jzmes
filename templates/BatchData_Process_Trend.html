<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <title>过程连续数据——彩虹图</title>    <link href="../static/css/base.css" rel="stylesheet">    <link rel="stylesheet" href="../static/custom/uimaker/easyui.css">    <link rel="stylesheet" type="text/css" href="../static/custom/uimaker/icon.css">    <link rel="stylesheet" href="../static/css/providers.css">    <script type="text/javascript" src="../static/js/echarts.common.min.js"></script>    <script type="text/javascript" src="../static/js/jquery-3.3.1.min.js"></script>    <script type="text/javascript" src="../static/js/jquery.easyui.min.js"></script>    <script type="text/javascript" src="../static/js/easyui-lang-zh_CN.js"></script></head><body>    <div style="padding:10px 0px 5px 10px;">        <!-- 3. Add the container -->        <div id="main" style="width: 1000px; height: 500px; margin: 0 auto"></div>    </div>    <script type="text/javascript">        //初始化    	toJson();    	function toJson(){    	    var myChart = echarts.init(document.getElementById("main"))    	    myChart.showLoading();            $.ajax({                url:"/ProcessContinuousData/RainbowChartData",                type:"get",                data:{                    batch: getUrlParam('batch'),                    tag: getUrlParam('tag'),                    Note: getUrlParam('Note'),                    EQCode:getUrlParam('EQCode')                },                success:function(data){                    if(data != "NO"){                        data = JSON.parse(data)                        myChart.hideLoading();                        myChart.setOption(option = {                            title: {                                text: getUrlParam('Note') + " 折线图",                                subtext: getUrlParam('batch'),                                left: 'center'                            },                            tooltip: {                                trigger: 'axis'                            },                            toolbox: {                                show : true,                                feature : {                                    mark : {show: true},                                    dataZoom : {show: true},                                    dataView : {show: true},                                    magicType : {show: true, type: ['line', 'bar']},                                    restore : {show: true},                                    saveAsImage : {show: true}                                }                            },                            calculable : true,                            dataZoom : {                                show : true,                                realtime : true,                                start : 30,                                end : 70                            },                            xAxis:  {                                type: 'category',                                boundaryGap : false,                                data:data[1].time                            },                            yAxis: {                                type : 'value'                            },                            series: [{                                name: getUrlParam('Note'),                                type: 'line',                                data: data[0].data                            }]                        });                        myChart.setOption(option);                    }else{                        $.messager.alert({                            title:'提示',                            msg:getUrlParam('Note')+'在'+getUrlParam('batch')+"批次下无采集数据，请查看其它变量。",                            icon: 'info',                            width: 300,                            top:200                        })                        myChart.hideLoading();                    }                }            })        }{#        setInterval(function () {     //6秒钟刷新一次#}{#            toJson()#}{#        }, 1000 * 6);#}    	//获取页面传参        function getUrlParam(name) {            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");            var r = decodeURI(window.location.search).substr(1).match(reg); //匹配目标参数            if (r != null) return unescape(r[2]); return null; //返回参数值        }    </script></body></html>